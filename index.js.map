{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/feedback.js","../src/main.js"],"sourcesContent":["const refs = {\n  feedbackList: document.querySelector('.feedback-list'),\n};\n\nexport default refs;\n","import Swiper from 'swiper';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport refs from './refs';\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\naxios.defaults.baseURL = 'https://furniture-store.b.goit.study/api';\n\nfunction hideSwipeBox() {\n  const swipeBox = document.querySelector('.swiper');\n  swipeBox.remove();\n}\n\nasync function getFeedback(currentPage = 1) {\n  try {\n    const response = await axios.get(`/feedbacks?limit=10&page=${currentPage}`);\n    return response;\n  } catch (error) {\n    hideSwipeBox();\n    iziToast.error({\n      title: error.message,\n      position: 'topRight',\n    });\n  }\n}\n\nfunction getStars(rate) {\n  const fullStars = Math.floor(rate);\n  const hasHalfStar = rate % 1 !== 0;\n  const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);\n  let stars = '';\n\n  for (let i = 0; i < fullStars; i++) {\n    stars += `<svg class=\"star star-filled\" width=\"20\" height=\"20\"><use href=\"/img/icons.svg#icon-star-filled\"></use></svg>`;\n  }\n  if (hasHalfStar) {\n    stars += `<svg class=\"star star-half\" width=\"20\" height=\"20\"><use href=\"/img/icons.svg#icon-star-half\"></use></svg>`;\n  }\n  for (let i = 0; i < emptyStars; i++) {\n    stars += `<svg class=\"star star-empty\" width=\"20\" height=\"20\"><use href=\"/img/icons.svg#icon-star-empty\"></use></svg>`;\n  }\n\n  return stars;\n}\n\nfunction renderFeedback(response) {\n  const slidesMarkup = response\n    .map(({ descr, name, rate }) => {\n      const starsMarkup = getStars(rate);\n\n      return `\n      <li class=\"feedback-item swiper-slide\">\n          <div class=\"star-container\">${starsMarkup}</div>\n          <p class=\"feedback-descr\">${descr}</p>\n          <p class=\"feedback-name\">${name}</p>\n      </li>`;\n    })\n    .join('');\n\n  refs.feedbackList.insertAdjacentHTML('beforeend', slidesMarkup);\n\n  new Swiper('.swiper', {\n    modules: [Navigation, Pagination],\n    pagination: {\n      el: '.swiper-pagination',\n      clickable: true,\n    },\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    breakpoints: {\n      375: {\n        slidesPerView: 1,\n        spaceBetween: 0,\n      },\n      768: {\n        slidesPerView: 2,\n        spaceBetween: 24,\n      },\n      1440: {\n        slidesPerView: 3,\n        spaceBetween: 24,\n      },\n    },\n  });\n}\n\nexport async function feedbackSection() {\n  const response = await getFeedback();\n  renderFeedback(response.data.feedbacks);\n}\n","import 'modern-normalize/modern-normalize.css';\nimport './css/styles.css';\nimport { feedbackSection } from './js/feedback';\n// import './js/order-modal.js'\nfeedbackSection();\n\n"],"names":["refs","axios","hideSwipeBox","getFeedback","currentPage","error","iziToast","getStars","rate","fullStars","hasHalfStar","emptyStars","stars","i","renderFeedback","response","slidesMarkup","descr","name","Swiper","Navigation","Pagination","feedbackSection"],"mappings":"kxBAAA,MAAMA,EAAO,CACX,aAAc,SAAS,cAAc,gBAAgB,CACvD,ECOAC,EAAM,SAAS,QAAU,2CAEzB,SAASC,GAAe,CACL,SAAS,cAAc,SAAS,EACxC,OAAM,CACjB,CAEA,eAAeC,EAAYC,EAAc,EAAG,CAC1C,GAAI,CAEF,OADiB,MAAMH,EAAM,IAAI,4BAA4BG,CAAW,EAAE,CAE3E,OAAQC,EAAO,CACdH,IACAI,EAAS,MAAM,CACb,MAAOD,EAAM,QACb,SAAU,UAChB,CAAK,CACF,CACH,CAEA,SAASE,EAASC,EAAM,CACtB,MAAMC,EAAY,KAAK,MAAMD,CAAI,EAC3BE,EAAcF,EAAO,IAAM,EAC3BG,EAAa,EAAIF,GAAaC,EAAc,EAAI,GACtD,IAAIE,EAAQ,GAEZ,QAASC,EAAI,EAAGA,EAAIJ,EAAWI,IAC7BD,GAAS,gHAEPF,IACFE,GAAS,6GAEX,QAASC,EAAI,EAAGA,EAAIF,EAAYE,IAC9BD,GAAS,8GAGX,OAAOA,CACT,CAEA,SAASE,EAAeC,EAAU,CAChC,MAAMC,EAAeD,EAClB,IAAI,CAAC,CAAE,MAAAE,EAAO,KAAAC,EAAM,KAAAV,CAAI,IAGhB;AAAA;AAAA,wCAFaD,EAASC,CAAI,CAIY;AAAA,sCACbS,CAAK;AAAA,qCACNC,CAAI;AAAA,YAEpC,EACA,KAAK,EAAE,EAEVlB,EAAK,aAAa,mBAAmB,YAAagB,CAAY,EAE9D,IAAIG,EAAO,UAAW,CACpB,QAAS,CAACC,EAAYC,CAAU,EAChC,WAAY,CACV,GAAI,qBACJ,UAAW,EACZ,EACD,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EACD,YAAa,CACX,IAAK,CACH,cAAe,EACf,aAAc,CACf,EACD,IAAK,CACH,cAAe,EACf,aAAc,EACf,EACD,KAAM,CACJ,cAAe,EACf,aAAc,EACf,CACF,CACL,CAAG,CACH,CAEO,eAAeC,GAAkB,CACtC,MAAMP,EAAW,MAAMZ,IACvBW,EAAeC,EAAS,KAAK,SAAS,CACxC,CC1FAO,EAAiB"}