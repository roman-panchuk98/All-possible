{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/refs.js","../src/js/popular-goods.js","../src/js/feedback.js","../src/js/furniture_list.js","../src/main.js"],"sourcesContent":["// Open and close modal functionality for mobile navigation + \"escape\" button to close modal\n\n(function () {\n    const refs = {\n    openModalBtn: document.querySelector('[data-modal-open]'),\n    closeModalBtns: document.querySelectorAll('[data-modal-close]'),\n    modal: document.querySelector('[data-modal-mobnav]'),\n    menuLinks: document.querySelectorAll('[data-modal-mobnav] a'),\n    body: document.body,\n    };\n\n    if (refs.openModalBtn) {\n        refs.openModalBtn.addEventListener('click', openModal);\n    }\n\n    refs.closeModalBtns.forEach(btn =>\n        btn.addEventListener('click', closeModal));\n    refs.modal.addEventListener('click', onBackdropClick);\n    refs.menuLinks.forEach(link => link.addEventListener('click', closeModal));\n    window.addEventListener('keydown', onEscPress);\n\n    function openModal() {\n        refs.modal.classList.add('isopen');\n        refs.body.classList.add('modal-open');\n    }\n\n    function closeModal() {\n        refs.modal.classList.remove('isopen');\n        refs.body.classList.remove('modal-open');\n    }\n\n    function onBackdropClick(event) {\n        const clickedInsideModal = event.target.closest('.mob-modal-wrap');\n        if (!clickedInsideModal) {\n            closeModal();\n        }\n    }\n\n    function onEscPress(event) {\n        if (event.key === 'Escape' || event.code === 'Escape') {\n            closeModal();\n        }\n    }\n})();\n\n\n// Scroll to \"Furniture\" section when clicking on the button\n\ndocument.querySelectorAll('.scroll-to-furniture').forEach(button => {\n    button.addEventListener('click', function (e) {\n        e.preventDefault();\n\n        const target = document.getElementById('furniture');\n        if (target) {\n            target.scrollIntoView({ behavior: 'smooth' });\n\n            const modal = document.querySelector('.header-modal-overlay');\n            if (modal && modal.classList.contains('isopen')) {\n                modal.classList.remove('isopen');\n                document.body.classList.remove('modal-open');\n            }\n        }\n    });\n});","const refs = {\n  feedbackList: document.querySelector('.feedback-list'),\n  categoriesList: document.querySelector('.furniture-categories'),\n  furnitureGrid: document.querySelector('.furniture-gallery'),\n  furnitureLoadMoreBtn: document.querySelector('#furniture-loadMoreBtn'),\n   popularGoodsList: document.querySelector('.popular-goods-list'),\n};\n\nexport default refs;\n\n","import axios from 'axios';\nimport refs from './refs';\nimport Swiper from 'swiper';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nasync function getPopularGoods() {\n  try {\n    const response = await axios.get(\n      `https://furniture-store.b.goit.study/api/furnitures?page=1&limit=11&type=popular`\n    );\n    return response.data;\n  } catch (error) {\n    hideSwipeBox();\n    iziToast.error({\n      title: error.message,\n      position: 'topRight',\n    });\n  }\n}\n\nasync function renderPopularGoods() {\n  const response = await getPopularGoods();\n  const markup = response.furnitures\n    .map(({ images, name, color, price, _id }) => {\n      if (name.length > 28) {\n        name = name.slice(0, 28) + '...';\n      }\n      return `\n      <li class=\"popular-goods-item swiper-slide\" id=\"${_id}\">\n        <img class=\"popular-goods-img\" src=\"${images[0]}\" alt=\"${name}\">\n        <div class=\"popular-goods-item-desc\">\n            <h3 class=\"popular-goods-item-title\">${name}</h3>\n            <ul class=\"popular-goods-colors\">\n                ${color\n                  .map(\n                    goodsColor =>\n                      `<input type=\"checkbox\" class=\"goods-color\" style=\"background-color: ${goodsColor}\" disabled>`\n                  )\n                  .join('')}\n            </ul>\n            <p class=\"popular-goods-price\">${price} грн</p>\n        </div>\n        <button class=\"popular-goods-more-datails-btn\">Детальніше</button>\n      </li>\n        `;\n    })\n    .join('');\n  refs.popularGoodsList.innerHTML = markup;\n\n  new Swiper('.swiper', {\n    modules: [Navigation, Pagination],\n    pagination: {\n      el: '.swiper-pagination',\n      clickable: true,\n    },\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    grabCursor: true,\n    breakpoints: {\n      375: {\n        slidesPerView: 1,\n        spaceBetween: 16,\n      },\n      768: {\n        slidesPerView: 2,\n        spaceBetween: 24,\n      },\n      1440: {\n        slidesPerView: 4,\n        spaceBetween: 24,\n      },\n    },\n  });\n}\n\nfunction hideSwipeBox() {\n  const swipeBox = document.querySelector('.swiper');\n  swipeBox.remove();\n}\n\nrenderPopularGoods();\n","import Swiper from 'swiper';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport rater from 'rater-js';\nimport refs from './refs';\n\naxios.defaults.baseURL = 'https://furniture-store.b.goit.study/api';\n\nfunction hideSwipeBox() {\n  const swipeBox = document.querySelector('.swiper');\n  swipeBox.remove();\n}\n\nasync function getFeedback(currentPage = 1) {\n  try {\n    const response = await axios.get(`/feedbacks?limit=10&page=${currentPage}`);\n    return response.data.feedbacks;\n  } catch (error) {\n    hideSwipeBox();\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалось завантажити дані. Спробуйте пізніше',\n      position: 'topRight',\n    });\n  }\n}\n\nasync function renderFeedback() {\n  const response = await getFeedback();\n  const slidesMarkup = response\n    .map(({ descr, name, rate, _id }) => {\n      return `\n      <li class=\"feedback-item swiper-slide\">\n          <div id=\"rater-${_id}\" data-rating=\"${rate}\"></div>\n          <p class=\"feedback-descr\">${descr}</p>\n          <p class=\"feedback-name\">${name}</p>\n      </li>`;\n    })\n    .join('');\n\n  refs.feedbackList.insertAdjacentHTML('beforeend', slidesMarkup);\n\n  addStarToFeedbackList(response);\n  swipeFeedbackLists();\n}\n\nfunction addStarToFeedbackList(response) {\n  response.forEach(({ rate, _id }) => {\n    rater({\n      max: 5,\n      readOnly: true,\n      rating: rate,\n      starSize: 20,\n      element: document.querySelector(`#rater-${_id}`),\n    });\n  });\n}\n\nfunction swipeFeedbackLists() {\n  new Swiper('.swiper', {\n    modules: [Navigation, Pagination],\n    pagination: {\n      el: '.swiper-pagination',\n      clickable: true,\n    },\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    grabCursor: true,\n    breakpoints: {\n      375: {\n        slidesPerView: 1,\n        spaceBetween: 20,\n      },\n      768: {\n        slidesPerView: 2,\n        spaceBetween: 24,\n      },\n      1440: {\n        slidesPerView: 3,\n        spaceBetween: 24,\n      },\n    },\n  });\n}\n\nrenderFeedback();\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport '../css/furniture-list.css';\nimport refs from './refs';\n\nconst BaseUrl = 'https://furniture-store.b.goit.study/api/';\n\nexport async function getCategories() {\n  try {\n    const res = await axios.get(`${BaseUrl}categories`);\n    const categories = res.data;\n    markUpCategories(categories);\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити дані. Спробуйте пізніше',\n      position: 'topRight',\n    });\n  }\n}\n\nfunction markUpCategories(categories) {\n  const markUp = [{ _id: '', name: 'Всі товари' }, ...categories]\n    .map(\n      ({ _id, name }) =>\n        `<li><button type=\"button\" class=\"category-btn${\n          _id === '' ? ' active' : ''\n        }\"  data-category=\"${_id}\">${name}</button></li>`\n    )\n    .join('');\n  refs.categoriesList.insertAdjacentHTML('beforeend', markUp);\n}\n\nlet page = 1;\nconst limit = 8;\nexport async function getFurniture(limit, page, category = '') {\n  try {\n    const params = {\n      limit: limit,\n      page: page,\n    };\n    if (category) {\n      params.category = category;\n    }\n\n    const responce = await axios.get(`${BaseUrl}furnitures`, { params });\n    const data = responce.data;\n\n    if (page === 1) {\n      refs.furnitureGrid.innerHTML = '';\n    }\n    markUpFurniture(data.furnitures);\n    if (page * limit >= data.totalItems) {\n      refs.furnitureLoadMoreBtn.style.display = 'none';\n    } else {\n      refs.furnitureLoadMoreBtn.style.display = 'block';\n    }\n  } catch (error) {\n    iziToast.error({\n      title: 'Помилка',\n      message: 'Не вдалося завантажити дані. Спробуйте пізніше',\n      position: 'topRight',\n    });\n  }\n}\n\nfunction markUpFurniture(items) {\n  const markUp = items\n    .map(({ _id, name, images, color, price }) => {\n      const colorsFurniture = color\n        .map(\n          c => `<span class=\"color-dot\" style=\"background-color:${c}\"></span>`\n        )\n        .join('');\n\n      return `\n        <li class=\"furniture-card\">\n        <img src=\"${images[0]}\" alt=\"${name}\" class=\"furniture-img\">\n        <h3 class=\"furniture-name\">${name}</h3>\n        \n        <p class=\"furniture-color\"> ${colorsFurniture}</p>\n        <p class=\"furniture-price\">${price} грн</p>\n        <button class=\"furniture-btn btn-details\" data-id=\"${_id}\">Детальніше</button>\n\n        </li>\n        \n        `;\n    })\n    .join('');\n  refs.furnitureGrid.insertAdjacentHTML('beforeend', markUp);\n}\ngetCategories();\ngetFurniture(limit, page);\n\nexport function handlerCategories(event) {\n  if (!event.target.classList.contains('category-btn')) return;\n  const buttons = refs.categoriesList.querySelectorAll('.category-btn');\n  buttons.forEach(btn => btn.classList.remove('active'));\n\n  event.target.classList.add('active');\n\n  const selectCategory = event.target.dataset.category;\n\n  page = 1;\n\n  getFurniture(limit, page, selectCategory);\n}\n","import 'modern-normalize/modern-normalize.css';\nimport './css/styles.css';\nimport \"./js/header.js\";\nimport './js/popular-goods';\nimport './js/feedback';\nimport { handlerCategories } from './js/furniture_list';\nimport refs from './js/refs';\n// import './js/order-modal.js'\n// Furniture-list\nrefs.categoriesList.addEventListener('click', handlerCategories);\n// import './js/order-modal.js'\n\n"],"names":["refs","openModal","btn","closeModal","onBackdropClick","link","onEscPress","event","button","e","target","modal","getPopularGoods","axios","error","hideSwipeBox","iziToast","renderPopularGoods","markup","images","name","color","price","_id","goodsColor","Swiper","Navigation","Pagination","getFeedback","currentPage","renderFeedback","response","slidesMarkup","descr","rate","addStarToFeedbackList","swipeFeedbackLists","rater","BaseUrl","getCategories","categories","markUpCategories","markUp","page","limit","getFurniture","category","params","data","markUpFurniture","items","colorsFurniture","c","handlerCategories","selectCategory"],"mappings":"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"}