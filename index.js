import{a as c,i as l,S as y,N as b,P as h}from"./assets/vendor-BSiKLNWz.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();const a={feedbackList:document.querySelector(".feedback-list"),categoriesList:document.querySelector(".furniture-categories"),furnitureGrid:document.querySelector(".furniture-gallery"),furnitureLoadMoreBtn:document.querySelector("#furniture-loadMoreBtn")};c.defaults.baseURL="https://furniture-store.b.goit.study/api";function w(){document.querySelector(".swiper").remove()}async function L(t=1){try{return await c.get(`/feedbacks?limit=10&page=${t}`)}catch(s){w(),l.error({title:s.message,position:"topRight"})}}function v(t){const s=Math.floor(t),o=t%1!==0,i=5-s-(o?1:0);let e="";for(let r=0;r<s;r++)e+='<svg class="star star-filled" width="20" height="20"><use href="/img/icons.svg#icon-star-filled"></use></svg>';o&&(e+='<svg class="star star-half" width="20" height="20"><use href="/img/icons.svg#icon-star-half"></use></svg>');for(let r=0;r<i;r++)e+='<svg class="star star-empty" width="20" height="20"><use href="/img/icons.svg#icon-star-empty"></use></svg>';return e}function k(t){const s=t.map(({descr:o,name:i,rate:e})=>`
      <li class="feedback-item swiper-slide">
          <div class="star-container">${v(e)}</div>
          <p class="feedback-descr">${o}</p>
          <p class="feedback-name">${i}</p>
      </li>`).join("");a.feedbackList.insertAdjacentHTML("beforeend",s),new y(".swiper",{modules:[b,h],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{375:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}})}async function $(){const t=await L();k(t.data.feedbacks)}const d="https://furniture-store.b.goit.study/api/";async function S(){try{const s=(await c.get(`${d}categories`)).data;M(s)}catch{l.error({title:"Помилка",message:"Не вдалося завантажити дані. Спробуйте пізніше",position:"topRight"})}}function M(t){const s=[{_id:"",name:"Всі товари"},...t].map(({_id:o,name:i})=>`<li><button type="button" class="category-btn${o===""?" active":""}"  data-category="${o}">${i}</button></li>`).join("");a.categoriesList.insertAdjacentHTML("beforeend",s)}let u=1;const f=8;async function p(t,s,o=""){try{const i={limit:t,page:s};o&&(i.category=o);const r=(await c.get(`${d}furnitures`,{params:i})).data;s===1&&(a.furnitureGrid.innerHTML=""),B(r.furnitures),s*t>=r.totalItems?a.furnitureLoadMoreBtn.style.display="none":a.furnitureLoadMoreBtn.style.display="block"}catch{l.error({title:"Помилка",message:"Не вдалося завантажити дані. Спробуйте пізніше",position:"topRight"})}}function B(t){const s=t.map(({_id:o,name:i,images:e,color:r,price:n})=>{const g=r.map(m=>`<span class="color-dot" style="background-color:${m}"></span>`).join("");return`
        <li class="furniture-card">
        <img src="${e[0]}" alt="${i}" class="furniture-img">
        <h3 class="furniture-name">${i}</h3>
        
        <p class="furniture-color"> ${g}</p>
        <p class="furniture-price">${n} грн</p>
        <button class="furniture-btn btn-details" data-id="${o}">Детальніше</button>

        </li>
        
        `}).join("");a.furnitureGrid.insertAdjacentHTML("beforeend",s)}S();p(f,u);function P(t){if(!t.target.classList.contains("category-btn"))return;a.categoriesList.querySelectorAll(".category-btn").forEach(i=>i.classList.remove("active")),t.target.classList.add("active");const o=t.target.dataset.category;u=1,p(f,u,o)}$();a.categoriesList.addEventListener("click",P);
//# sourceMappingURL=index.js.map
