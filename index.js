import{S as p,N as f,P as m,a as c,i as l,r as L}from"./assets/vendor-CyeEw-01.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const t of i)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const t={};return i.integrity&&(t.integrity=i.integrity),i.referrerPolicy&&(t.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?t.credentials="include":i.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(i){if(i.ep)return;i.ep=!0;const t=s(i);fetch(i.href,t)}})();(function(){const e={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtns:document.querySelectorAll("[data-modal-close]"),modal:document.querySelector("[data-modal-mobnav]"),menuLinks:document.querySelectorAll("[data-modal-mobnav] a"),body:document.body};e.openModalBtn&&e.openModalBtn.addEventListener("click",r),e.closeModalBtns.forEach(t=>t.addEventListener("click",s)),e.modal.addEventListener("click",o),e.menuLinks.forEach(t=>t.addEventListener("click",s)),window.addEventListener("keydown",i);function r(){e.modal.classList.add("isopen"),e.body.classList.add("modal-open")}function s(){e.modal.classList.remove("isopen"),e.body.classList.remove("modal-open")}function o(t){t.target.closest(".mob-modal-wrap")||s()}function i(t){(t.key==="Escape"||t.code==="Escape")&&s()}})();document.querySelectorAll(".scroll-to-furniture").forEach(e=>{e.addEventListener("click",function(r){r.preventDefault();const s=document.getElementById("furniture");if(s){s.scrollIntoView({behavior:"smooth"});const o=document.querySelector(".header-modal-overlay");o&&o.classList.contains("isopen")&&(o.classList.remove("isopen"),document.body.classList.remove("modal-open"))}})});const n={feedbackList:document.querySelector(".feedback-list"),categoriesList:document.querySelector(".furniture-categories"),furnitureGrid:document.querySelector(".furniture-gallery"),furnitureLoadMoreBtn:document.querySelector("#furniture-loadMoreBtn"),popularGoodsList:document.querySelector(".popular-goods-list")};async function h(){try{return(await c.get("https://furniture-store.b.goit.study/api/furnitures?page=1&limit=11&type=popular")).data}catch(e){v(),l.error({title:e.message,position:"topRight"})}}async function k(){const r=(await h()).furnitures.map(({images:s,name:o,color:i,price:t,_id:a})=>(o.length>28&&(o=o.slice(0,28)+"..."),`
      <li class="popular-goods-item swiper-slide" id="${a}">
        <img class="popular-goods-img" src="${s[0]}" alt="${o}">
        <div class="popular-goods-item-desc">
            <h3 class="popular-goods-item-title">${o}</h3>
            <ul class="popular-goods-colors">
                ${i.map(d=>`<input type="checkbox" class="goods-color" style="background-color: ${d}" disabled>`).join("")}
            </ul>
            <p class="popular-goods-price">${t} грн</p>
        </div>
        <button class="popular-goods-more-datails-btn">Детальніше</button>
      </li>
        `)).join("");n.popularGoodsList.innerHTML=r,new p(".swiper",{modules:[f,m],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},grabCursor:!0,breakpoints:{375:{slidesPerView:1,spaceBetween:16},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:4,spaceBetween:24}}})}function v(){document.querySelector(".swiper").remove()}k();c.defaults.baseURL="https://furniture-store.b.goit.study/api";function $(){document.querySelector(".swiper").remove()}async function B(e=1){try{return(await c.get(`/feedbacks?limit=10&page=${e}`)).data.feedbacks}catch{$(),l.error({title:"Помилка",message:"Не вдалось завантажити дані. Спробуйте пізніше",position:"topRight"})}}async function S(){const e=await B(),r=e.map(({descr:s,name:o,rate:i,_id:t})=>`
      <li class="feedback-item swiper-slide">
          <div id="rater-${t}" data-rating="${i}"></div>
          <p class="feedback-descr">${s}</p>
          <p class="feedback-name">${o}</p>
      </li>`).join("");n.feedbackList.insertAdjacentHTML("beforeend",r),E(e),M()}function E(e){e.forEach(({rate:r,_id:s})=>{L({max:5,readOnly:!0,rating:r,starSize:20,element:document.querySelector(`#rater-${s}`)})})}function M(){new p(".swiper",{modules:[f,m],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},grabCursor:!0,breakpoints:{375:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}})}S();const g="https://furniture-store.b.goit.study/api/";async function q(){try{const r=(await c.get(`${g}categories`)).data;P(r)}catch{l.error({title:"Помилка",message:"Не вдалося завантажити дані. Спробуйте пізніше",position:"topRight"})}}function P(e){const r=[{_id:"",name:"Всі товари"},...e].map(({_id:s,name:o})=>`<li><button type="button" class="category-btn${s===""?" active":""}"  data-category="${s}">${o}</button></li>`).join("");n.categoriesList.insertAdjacentHTML("beforeend",r)}let u=1;const y=8;async function b(e,r,s=""){try{const o={limit:e,page:r};s&&(o.category=s);const t=(await c.get(`${g}furnitures`,{params:o})).data;r===1&&(n.furnitureGrid.innerHTML=""),x(t.furnitures),r*e>=t.totalItems?n.furnitureLoadMoreBtn.style.display="none":n.furnitureLoadMoreBtn.style.display="block"}catch{l.error({title:"Помилка",message:"Не вдалося завантажити дані. Спробуйте пізніше",position:"topRight"})}}function x(e){const r=e.map(({_id:s,name:o,images:i,color:t,price:a})=>{const d=t.map(w=>`<span class="color-dot" style="background-color:${w}"></span>`).join("");return`
        <li class="furniture-card">
        <img src="${i[0]}" alt="${o}" class="furniture-img">
        <h3 class="furniture-name">${o}</h3>
        
        <p class="furniture-color"> ${d}</p>
        <p class="furniture-price">${a} грн</p>
        <button class="furniture-btn btn-details" data-id="${s}">Детальніше</button>

        </li>
        
        `}).join("");n.furnitureGrid.insertAdjacentHTML("beforeend",r)}q();b(y,u);function j(e){if(!e.target.classList.contains("category-btn"))return;n.categoriesList.querySelectorAll(".category-btn").forEach(o=>o.classList.remove("active")),e.target.classList.add("active");const s=e.target.dataset.category;u=1,b(y,u,s)}n.categoriesList.addEventListener("click",j);
//# sourceMappingURL=index.js.map
