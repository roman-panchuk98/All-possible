import{S as p,N as f,P as g,a as c,i as l}from"./assets/vendor-CGvOlcVM.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(o){if(o.ep)return;o.ep=!0;const t=i(o);fetch(o.href,t)}})();(function(){const e={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtns:document.querySelectorAll("[data-modal-close]"),modal:document.querySelector("[data-modal-mobnav]"),menuLinks:document.querySelectorAll("[data-modal-mobnav] a"),body:document.body};e.openModalBtn&&e.openModalBtn.addEventListener("click",r),e.closeModalBtns.forEach(t=>t.addEventListener("click",i)),e.modal.addEventListener("click",s),e.menuLinks.forEach(t=>t.addEventListener("click",i)),window.addEventListener("keydown",o);function r(){e.modal.classList.add("isopen"),e.body.classList.add("modal-open")}function i(){e.modal.classList.remove("isopen"),e.body.classList.remove("modal-open")}function s(t){t.target.closest(".mob-modal-wrap")||i()}function o(t){(t.key==="Escape"||t.code==="Escape")&&i()}})();document.querySelectorAll(".scroll-to-furniture").forEach(e=>{e.addEventListener("click",function(r){r.preventDefault();const i=document.getElementById("furniture");if(i){i.scrollIntoView({behavior:"smooth"});const s=document.querySelector(".header-modal-overlay");s&&s.classList.contains("isopen")&&(s.classList.remove("isopen"),document.body.classList.remove("modal-open"))}})});const n={feedbackList:document.querySelector(".feedback-list"),categoriesList:document.querySelector(".furniture-categories"),furnitureGrid:document.querySelector(".furniture-gallery"),furnitureLoadMoreBtn:document.querySelector("#furniture-loadMoreBtn"),popularGoodsList:document.querySelector(".popular-goods-list")};async function w(){try{return(await c.get("https://furniture-store.b.goit.study/api/furnitures?page=1&limit=11&type=popular")).data}catch(e){L(),l.error({title:e.message,position:"topRight"})}}async function v(){const r=(await w()).furnitures.map(({images:i,name:s,color:o,price:t,_id:a})=>(s.length>28&&(s=s.slice(0,28)+"..."),`
      <li class="popular-goods-item swiper-slide" id="${a}">
        <img class="popular-goods-img" src="${i[0]}" alt="${s}">
        <div class="popular-goods-item-desc">
            <h3 class="popular-goods-item-title">${s}</h3>
            <ul class="popular-goods-colors">
                ${o.map(u=>`<input type="checkbox" class="goods-color" style="background-color: ${u}" disabled>`).join("")}
            </ul>
            <p class="popular-goods-price">${t} грн</p>
        </div>
        <button class="popular-goods-more-datails-btn">Детальніше</button>
      </li>
        `)).join("");n.popularGoodsList.innerHTML=r,new p(".swiper",{modules:[f,g],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},grabCursor:!0,breakpoints:{375:{slidesPerView:1,spaceBetween:16},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:4,spaceBetween:24}}})}function L(){document.querySelector(".swiper").remove()}v();c.defaults.baseURL="https://furniture-store.b.goit.study/api";function k(){document.querySelector(".swiper").remove()}async function B(e=1){try{return await c.get(`/feedbacks?limit=10&page=${e}`)}catch(r){k(),l.error({title:r.message,position:"topRight"})}}function S(e){const r=Math.floor(e),i=e%1!==0,s=5-r-(i?1:0);let o="";for(let t=0;t<r;t++)o+='<svg class="star star-filled" width="20" height="20"><use href="img/icons.svg#icon-star-filled"></use></svg>';i&&(o+='<svg class="star star-half" width="20" height="20"><use href="img/icons.svg#icon-star-half"></use></svg>');for(let t=0;t<s;t++)o+='<svg class="star star-empty" width="20" height="20"><use href="img/icons.svg#icon-star-empty"></use></svg>';return o}function $(e){const r=e.map(({descr:i,name:s,rate:o})=>`
      <li class="feedback-item swiper-slide">
          <div class="star-container">${S(o)}</div>
          <p class="feedback-descr">${i}</p>
          <p class="feedback-name">${s}</p>
      </li>`).join("");n.feedbackList.insertAdjacentHTML("beforeend",r),new p(".swiper",{modules:[f,g],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{375:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}})}async function M(){const e=await B();$(e.data.feedbacks)}const m="https://furniture-store.b.goit.study/api/";async function E(){try{const r=(await c.get(`${m}categories`)).data;q(r)}catch{l.error({title:"Помилка",message:"Не вдалося завантажити дані. Спробуйте пізніше",position:"topRight"})}}function q(e){const r=[{_id:"",name:"Всі товари"},...e].map(({_id:i,name:s})=>`<li><button type="button" class="category-btn${i===""?" active":""}"  data-category="${i}">${s}</button></li>`).join("");n.categoriesList.insertAdjacentHTML("beforeend",r)}let d=1;const y=8;async function b(e,r,i=""){try{const s={limit:e,page:r};i&&(s.category=i);const t=(await c.get(`${m}furnitures`,{params:s})).data;r===1&&(n.furnitureGrid.innerHTML=""),P(t.furnitures),r*e>=t.totalItems?n.furnitureLoadMoreBtn.style.display="none":n.furnitureLoadMoreBtn.style.display="block"}catch{l.error({title:"Помилка",message:"Не вдалося завантажити дані. Спробуйте пізніше",position:"topRight"})}}function P(e){const r=e.map(({_id:i,name:s,images:o,color:t,price:a})=>{const u=t.map(h=>`<span class="color-dot" style="background-color:${h}"></span>`).join("");return`
        <li class="furniture-card">
        <img src="${o[0]}" alt="${s}" class="furniture-img">
        <h3 class="furniture-name">${s}</h3>
        
        <p class="furniture-color"> ${u}</p>
        <p class="furniture-price">${a} грн</p>
        <button class="furniture-btn btn-details" data-id="${i}">Детальніше</button>

        </li>
        
        `}).join("");n.furnitureGrid.insertAdjacentHTML("beforeend",r)}E();b(y,d);function x(e){if(!e.target.classList.contains("category-btn"))return;n.categoriesList.querySelectorAll(".category-btn").forEach(s=>s.classList.remove("active")),e.target.classList.add("active");const i=e.target.dataset.category;d=1,b(y,d,i)}M();n.categoriesList.addEventListener("click",x);
//# sourceMappingURL=index.js.map
